<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reinforcement Learning · SeaPearl.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SeaPearl.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Constraint Programming solver</span><ul><li><a class="tocitem" href="../CP/constraints/">Constraints</a></li><li><a class="tocitem" href="../CP/variables/">Variables</a></li><li><a class="tocitem" href="../CP/trailer/">Trailer</a></li><li><a class="tocitem" href="../CP/internals/">Internals</a></li><li><a class="tocitem" href="../CP/search/">Search</a></li><li><a class="tocitem" href="../CP/datagen/">Instance Generation</a></li></ul></li><li class="is-active"><a class="tocitem" href>Reinforcement Learning</a><ul class="internal"><li><a class="tocitem" href="#Neural-Networks"><span>Neural Networks</span></a></li><li><a class="tocitem" href="#State-Representation"><span>State Representation</span></a></li></ul></li><li><a class="tocitem" href="../community/">Community</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reinforcement Learning</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reinforcement Learning</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/corail-research/SeaPearl.jl/blob/master/docs/src/reinforcement_learning.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Reinforcement-Learning"><a class="docs-heading-anchor" href="#Reinforcement-Learning">Reinforcement Learning</a><a id="Reinforcement-Learning-1"></a><a class="docs-heading-anchor-permalink" href="#Reinforcement-Learning" title="Permalink"></a></h1><h2 id="Neural-Networks"><a class="docs-heading-anchor" href="#Neural-Networks">Neural Networks</a><a id="Neural-Networks-1"></a><a class="docs-heading-anchor-permalink" href="#Neural-Networks" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.CPNN" href="#SeaPearl.CPNN"><code>SeaPearl.CPNN</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CPNN(;
    graphChain::Flux.Chain = Flux.Chain()
    nodeChain::Flux.Chain = Flux.Chain()
    globalChain::Flux.Chain = Flux.Chain()
    outputChain::Union{Flux.Dense, Flux.Chain} = Flux.Chain()
)</code></pre><p>This structure is here to provide a flexible way to create a nn model which respect this approach: Making modification on the graph, then extract one node feature and modify it. The CPNN pipeline uses the features of the variable branched on (<code>variableFeatures</code>)  and, if specified, the global features of the graph (<code>globalFeatures</code>). Contrary to <code>FullFeaturedCPNN</code>, it does not use the features of the possible values to make predictions. This pipeline is made of 4 networks:</p><ul><li><code>graphChain</code>: a graph convolutional network (GCN). It takes the original featured graph (<code>states.fg</code>) as an input,</li><li><code>nodeChain</code>: a fully connected neural network (FCNN). It takes the features of the variable to branch on as an input,</li><li><code>globalChain</code>: FCNN. It takes the global features of the graph as an input,</li><li><code>outputChain</code>: FCNN. It takes the concatenation of the outputs of <code>nodeChain</code> and <code>globalChain</code> as an input.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/nn_structures/cpnn.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.FullFeaturedCPNN" href="#SeaPearl.FullFeaturedCPNN"><code>SeaPearl.FullFeaturedCPNN</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FullFeaturedCPNN(;
    graphChain::Flux.Chain
    nodeChain::Flux.Chain
    globalChain::Flux.Chain
    outputChain::Flux.Dense
)</code></pre><p>This structure is here to provide a flexible way to create a nn model which respect this approach: Making modification on the graph, then extract one node feature and modify it.</p><p>This pipeline is made of 4 networks:</p><ul><li><code>graphChain</code>: a graph convolutional network (GCN). It takes the original featured graph (<code>states.fg</code>) as an input,</li><li><code>nodeChain</code>: a fully connected neural network (FCNN). It is used both on variableFeatures and valueFeatures.</li><li><code>globalChain</code>: FCNN. It takes the global features of the graph as an input,</li><li><code>outputChain</code>: FCNN. It takes the concatenation of the outputs of <code>nodeChain</code> and <code>globalChain</code> as an input.</li></ul><p>Like the <code>CPNN</code> pipeline, the <code>FullFeaturedCPNN</code> pipeline uses the features (<code>variableFeatures</code>) of the variable branched on  and, if specified, the global features of the graph (<code>globalFeatures</code>). But contrary to <code>CPNN</code>, it also uses the features (<code>valueFeatures</code>) of the possible values that the variable can be assigned to.</p><p><code>FullFeaturedCPNN</code> generates a Q-table containing the Q-value of all the values, both the possible and impossible ones.  A mask then selects the possible values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/nn_structures/fullfeaturedcpnn.jl#L1-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.HeterogeneousCPNN" href="#SeaPearl.HeterogeneousCPNN"><code>SeaPearl.HeterogeneousCPNN</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HeterogeneousCPNN(;
    graphChain::Flux.Chain = Flux.Chain()
    nodeChain::Flux.Chain = Flux.Chain()
    globalChain::Flux.Chain = Flux.Chain()
    outputChain::Union{Flux.Dense, Flux.Chain} = Flux.Chain()
)</code></pre><p>This structure is here to provide a flexible way to create a nn model which respect this approach: Making modification on the graph, then extract one node feature and modify it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/nn_structures/heterogeneouscpnn.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.HeterogeneousFullFeaturedCPNN" href="#SeaPearl.HeterogeneousFullFeaturedCPNN"><code>SeaPearl.HeterogeneousFullFeaturedCPNN</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HeterogeneousFullFeaturedCPNN(;
    graphChain::Flux.Chain
    varChain::Flux.Chain = Flux.Chain()
    valChain::Flux.Chain = Flux.Chain()
    globalChain::Flux.Chain
    outputChain::Flux.Dense
)</code></pre><p>This structure is here to provide a flexible way to create a nn model which respect this approach: Making modification on the graph, then extract one node feature and modify it. This CPNN is designed to process HeterogeneousFeaturedGraphs.</p><p>This pipeline works in the following way : </p><ol><li>We apply a GNN on the input featured graph.</li><li>We extract the contextualized-feature of the branching variable and pass it trought varChain</li><li>We extract the contextualized-feature of each value that is part of the variable&#39;s domain of definition and pass it trought valChain.</li><li>We concat the two reshaped previous results (<em>optionnaly</em> with a global feature) and pass it trought outputChain to generate the output Q-vector.</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/nn_structures/heterogeneousfullfeaturedcpnn.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.HeterogeneousVariableOutputCPNN" href="#SeaPearl.HeterogeneousVariableOutputCPNN"><code>SeaPearl.HeterogeneousVariableOutputCPNN</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HeterogeneousVariableOutputCPNN(;
    graphChain::Flux.Chain
    nodeChain::Flux.Chain
    outputChain::Flux.Dense
)</code></pre><p>This structure is here to provide a flexible way to create a nn model which respect this approach: Making modification on the graph, then extract one node feature and modify it. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/nn_structures/heterogeneousvariableoutputcpnn.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.VariableOutputCPNN" href="#SeaPearl.VariableOutputCPNN"><code>SeaPearl.VariableOutputCPNN</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VariableOutputCPNN(;
    graphChain::Flux.Chain
    nodeChain::Flux.Chain
    outputChain::Flux.Dense
)</code></pre><p>This structure is here to provide a flexible way to create a nn model which respect this approach: Making modification on the graph, then extract one node feature and modify it. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/nn_structures/variableoutputcpnn.jl#L1-L10">source</a></section></article><h2 id="State-Representation"><a class="docs-heading-anchor" href="#State-Representation">State Representation</a><a id="State-Representation-1"></a><a class="docs-heading-anchor-permalink" href="#State-Representation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.DefaultStateRepresentation" href="#SeaPearl.DefaultStateRepresentation"><code>SeaPearl.DefaultStateRepresentation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DefaultStateRepresentation{F, TS}</code></pre><p>This is the default representation used by SeaPearl unless the user define his own.</p><p>It consists in a tripartite graph representation of the CP Model, with features associated with each node and an index specifying the variable that should be branched on.</p><p>Fields:</p><ul><li><code>cplayergraph</code>: representation of the problem as a tripartite graph.</li><li><code>nodeFeatures</code>: Feature matrix of the nodes. Each column corresponds to a node.</li><li><code>globalFeatures</code>: Feature vector of the entire graph.</li><li><code>variableIdx</code>: Index of the variable we are currently considering.</li><li><code>allValuesIdx</code>: Index of value nodes in <code>cplayergraph</code>.</li><li><code>valueToPos</code>: Dictionary mapping the value of an action to its position in the one-hot encoding of the value. </li></ul><p>The boolean corresponds to the fact that the feature is used or not, the integer corresponds to the position of the feature in the vector.</p><ul><li><code>chosenFeatures</code>: Dictionary of featurization options. The boolean corresponds to whether the feature is active or not, </li></ul><p>the integer corresponds to the position of the feature in the vector. See below for details about the options.</p><ul><li><code>constraintTypeToId</code>: Dictionary mapping the type of a constraint to its position in the one-hot encoding of the constraint type.</li></ul><p>The <code>chosenFeatures</code> dictionary specify a boolean -notifying whether the features are active or not -  and a position for the following features:</p><ul><li>&quot;constraint_activity&quot;: whether or not the constraint is active for constraint nodes</li><li>&quot;constraint_type&quot;: a one-hot encoding of the constraint type for constraint nodes</li><li>&quot;nb<em>involved</em>constraint_propagation&quot;: the number of times the constraint has been put in the fixPoint call stack for constraint nodes.</li><li>&quot;nb<em>not</em>bounded_variable&quot;: the number of non-bound variable involve in the constraint for constraint nodes</li><li>&quot;variable<em>domain</em>size&quot;: the current size of the domain of the variable for variable nodes </li><li>&quot;variable<em>initial</em>domain_size&quot;: the initial size of the domain of the variable for variable nodes</li><li>&quot;variable<em>is</em>bound&quot;: whether or not the variable is bound for variable nodes</li><li>&quot;values_onehot&quot;: a one-hot encoding of the value for value nodes</li><li>&quot;values_raw&quot;: the raw value of the value for value nodes</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/default/defaultstaterepresentation.jl#L1-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.DefaultTrajectoryState" href="#SeaPearl.DefaultTrajectoryState"><code>SeaPearl.DefaultTrajectoryState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DefaultTrajectoryState</code></pre><p>The most basic state representation, with a featured graph, the index of the variable to branch on and optionnaly a list of possible values.</p><pre><code class="nohighlight hljs">fg::FeaturedGraph                                   Associated tri-partite graph containing features on each node.
variableIdx::Int                                    Index of the node in the feature graph that represents the choosen variable. 
allValuesIdx::Union{Nothing, AbstractVector{Int}}   Indexes of the nodes in the feature graph that reprensents values
possibleValuesIdx::Union{Nothing, Vector{Int64}}    Indexes of the nodes in the feature graph that reprensents values in the domain of definition of the variable.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/default/defaulttrajectorystate.jl#L3-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.BatchedDefaultTrajectoryState" href="#SeaPearl.BatchedDefaultTrajectoryState"><code>SeaPearl.BatchedDefaultTrajectoryState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BatchedDefaultTrajectoryState</code></pre><p>The batched version of the <code>DefaultTrajectoryState</code>.</p><p>It contains all the information that would be stored in a <code>FeaturedGraph</code> but reorganised to enable simultaneous  computation on a few graphs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/default/defaulttrajectorystate.jl#L25-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.HeterogeneousStateRepresentation" href="#SeaPearl.HeterogeneousStateRepresentation"><code>SeaPearl.HeterogeneousStateRepresentation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HeterogeneousStateRepresentation{F, TS}</code></pre><p>Similar to the <code>DefaultStateRepresentation</code>, except that the feature matrices are specific to each type of node (constraint, variable and value).</p><p>It consists in a tripartite graph representation of the CP Model, with features associated with each node and an index specifying the variable that should be branched on.</p><p>Fields:</p><ul><li><code>cplayergraph</code>: representation of the problem as a tripartite graph.</li><li><code>constraintNodeFeatures</code>: Feature matrix of the constraint nodes. Each column corresponds to a node.</li><li><code>variableNodeFeatures</code>: Feature matrix of the variable nodes. Each column corresponds to a node.</li><li><code>valueNodeFeatures</code>: Feature matrix of the value nodes. Each column corresponds to a node.</li><li><code>globalFeatures</code>: Feature vector of the entire graph.</li><li><code>variableIdx</code>: Index of the variable we are currently considering.</li><li><code>allValuesIdx</code>: Index of value nodes in <code>cplayergraph</code>.</li><li><code>valueToPos</code>: Dictionary mapping the value of an action to its position in the one-hot encoding of the value. </li></ul><p>The boolean corresponds to the fact that the feature is used or not, the integer corresponds to the position of the feature in the vector.</p><ul><li><code>chosenFeatures</code>: Dictionary of featurization options. The boolean corresponds to whether the feature is active or not, </li></ul><p>the integer corresponds to the position of the feature in the vector. See below for details about the options.</p><ul><li><code>constraintTypeToId</code>: Dictionary mapping the type of a constraint to its position in the one-hot encoding of the constraint type.</li></ul><p>The <code>chosenFeatures</code> dictionary specify a boolean -notifying whether the features are active or not -  and a position for the following features:</p><ul><li>&quot;constraint_activity&quot;: whether or not the constraint is active for constraint nodes</li><li>&quot;constraint_type&quot;: a one-hot encoding of the constraint type for constraint nodes</li><li>&quot;nb<em>involved</em>constraint_propagation&quot;: the number of times the constraint has been put in the fixPoint call stack for constraint nodes.</li><li>&quot;nb<em>not</em>bounded_variable&quot;: the number of non-bound variable involve in the constraint for constraint nodes</li><li>&quot;variable<em>domain</em>size&quot;: the current size of the domain of the variable for variable nodes </li><li>&quot;variable<em>initial</em>domain_size&quot;: the initial size of the domain of the variable for variable nodes</li><li>&quot;variable<em>is</em>bound&quot;: whether or not the variable is bound for variable nodes</li><li>&quot;values_onehot&quot;: a one-hot encoding of the value for value nodes</li><li>&quot;values_raw&quot;: the raw value of the value for value nodes</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/default/heterogeneousstaterepresentation.jl#L1-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.HeterogeneousTrajectoryState" href="#SeaPearl.HeterogeneousTrajectoryState"><code>SeaPearl.HeterogeneousTrajectoryState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HeterogeneousTrajectoryState</code></pre><p>The most basic state representation, with a featured graph, the index of the variable to branch on and optionnaly a list of possible values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/default/heterogeneoustrajectorystate.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.GraphColoringStateRepresentation" href="#SeaPearl.GraphColoringStateRepresentation"><code>SeaPearl.GraphColoringStateRepresentation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">GraphColoringStateRepresentation{F, TS}</code></pre><p>This is a standard graphcoloring representation using the graph of the problem with nodes having their assigned value as label.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/graphcoloring/graphcoloringstaterepresentation.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.MISStateRepresentation" href="#SeaPearl.MISStateRepresentation"><code>SeaPearl.MISStateRepresentation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MISStateRepresentation{F, TS}</code></pre><p>This is a standard MIS representation using the graph of the problem with nodes having their assigned value as label.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/MIS/MISstaterepresentation.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.TsptwFeaturization" href="#SeaPearl.TsptwFeaturization"><code>SeaPearl.TsptwFeaturization</code></a> — <span class="docstring-category">Type</span></header><section><div><p>TsptwFeaturization &lt;: AbstractFeaturization Custom featurization for the TSPTW problem</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/tsptw/tsptwstaterepresentation.jl#L6-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.TsptwStateRepresentation" href="#SeaPearl.TsptwStateRepresentation"><code>SeaPearl.TsptwStateRepresentation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TsptwStateRepresentation{F, TS}</code></pre><p>This is the Tsptw representation used by Quentin Cappart in Combining Reinforcement Learning and Constraint Programming for Combinatorial Optimization (https://arxiv.org/pdf/2006.01610.pdf).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/tsptw/tsptwstaterepresentation.jl#L11-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.AbstractTrajectoryState" href="#SeaPearl.AbstractTrajectoryState"><code>SeaPearl.AbstractTrajectoryState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractTrajectoryState</code></pre><p>The <code>TrajectoryState</code> is a component of the <code>AbstractStateRepresentation</code> specifying how to store this representation in the <code>trajectory</code> of the RL agent for learning.</p><p>It might be necessary to implement your own when defining a new state representation or when another data formatting is necessary for learning. To implement a subtype of <code>AbstractTrajectoryState</code> one must provide:</p><ul><li>a struct subtype of <code>TabularTrajectoryState</code> or <code>NonTabularTrajectoryState</code> depending on you usage.</li><li>a constructor with signature <code>YourTrajectoryState(sr::YourStateRepresentation)</code>.</li><li>a function <code>Flux.functor(::Type{YourTrajectoryState}, ts)</code> (see Flux.functor for further information).</li><li>an NN model taking a <code>YourTrajectoryState</code> instance as an input.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/representation.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.TabularTrajectoryState" href="#SeaPearl.TabularTrajectoryState"><code>SeaPearl.TabularTrajectoryState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TabularTrajectoryState</code></pre><p>Abstract subtype of <code>AbstractTrajectoryState</code> for array based representations of state.</p><p>This type isn&#39;t currently used, but it will certainly be a lot clearer if one can easily distinguish between array based representations, and more exotic ones (e.g. graphs, named tuples...).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/representation.jl#L18-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.NonTabularTrajectoryState" href="#SeaPearl.NonTabularTrajectoryState"><code>SeaPearl.NonTabularTrajectoryState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NonTabularTrajectoryState</code></pre><p>Abstract subtype of <code>AbstractTrajectoryState</code> for non array based representations of state.</p><p>This type is th only one currently used, but it will certainly be a lot clearer if one can easily distinguish between array based representations, and more exotic ones (e.g. graphs, named tuples...).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/representation.jl#L28-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.AbstractStateRepresentation" href="#SeaPearl.AbstractStateRepresentation"><code>SeaPearl.AbstractStateRepresentation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractStateRepresentation{TS}</code></pre><p>The AbstractStateRepresentation is the abstract type of the structures representing the internal state of the CPModel and eventually the state of the search in a way that will be as expressive as possible.</p><p>It requires a specific <code>AbstractTrajectoryState</code> to make the bridge between the internal state representation and one the RL agent can use to decide of the value to be assigned when branching.</p><p>A user can use the <code>DefaultStateRepresentation</code> with the <code>DefaultTrajectoryState</code> provided by the package but he has the possibility to define his own.</p><p>To define a new one, the user must provide:</p><ul><li>a new structure, subtype of <code>AbstractStateRepresentation</code> with the appropriate subtype of <code>AbstractTrajectoryState</code> and all its dependencies.</li><li>a constructor from a <code>CPModel</code>, with keyword argument <code>action_space</code>.</li><li>a function <code>update_representation!(::AbstractStateRepresentation, ::CPModel, ::AbstractIntVar)</code> to update the state representation at each step.</li></ul><p>Look at the DefaultStateRepresentation to get inspired.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/representation.jl#L42-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.AbstractFeaturization" href="#SeaPearl.AbstractFeaturization"><code>SeaPearl.AbstractFeaturization</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractFeaturization</code></pre><p>Every subtype of <code>FeaturizedStateRepresentation{F}</code> requires an <code>AbstractFeaturization</code>.</p><p>This type gives the possibility to characterise these feature based representations, and thus gives the ability to easily define new ones. To implement your own featurization, one must provide:</p><ul><li>a struct subtype of <code>AbstractFeaturization</code> (no field is used by the <code>DefaultStateRepresentation</code>).</li><li>a function <code>featurize(::FeaturizedStateRepresentation{YourFeaturization, TS}) where TS</code> returning a feature Matrix with features stored columnwise.</li><li>a function <code>feature_length(::Type{&lt;:FeaturizedStateRepresentation{YourFeaturization, TS} where TS}</code> returning the size of a feature vector.</li><li><em>optionally</em> a function <code>update_features!(::FeaturizedStateRepresentation{YourFeaturization, TS}, ::CPModel) where TS</code> to update your feature vectors based on statistics gathered by the CP Model.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/representation.jl#L74-L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.FeaturizedStateRepresentation" href="#SeaPearl.FeaturizedStateRepresentation"><code>SeaPearl.FeaturizedStateRepresentation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FeaturizedStateRepresentation{F, TS}</code></pre><p>Abstract subtype of <code>AbstractStateRepresentation</code> specializing the type of features used in the representation.</p><p>When a user wants to try a new featurization with the same organisation of the featurized elements, instead of having to completely redefine a new type of AbstractStateRepresentation, he can keep the same and just use a new <code>AbstractFeaturization</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/representation.jl#L88-L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.trajectoryState" href="#SeaPearl.trajectoryState"><code>SeaPearl.trajectoryState</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">trajectoryState(sr::AbstractStateRepresentation{TS})</code></pre><p>Return a TrajectoryState based on the present state represented by <code>sr</code>.</p><p>The type of the returned object is defined by the <code>TS</code> parametric type defined in <code>sr</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/representation.jl#L64-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.featurize" href="#SeaPearl.featurize"><code>SeaPearl.featurize</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">featurize(sr::DefaultStateRepresentation{DefaultFeaturization, TS})</code></pre><p>Create features for every node of the graph. Can be overwritten for a completely custom featurization.</p><p>Default behavior consists in a 3D One-hot vector that encodes whether the node represents a Constraint, a Variable or a Value.</p><p>It is also possible to pass a <code>chosen_features</code> dictionary allowing to choose among some non mandatory features.  It will be used in <code>initChosenFeatures!</code> to initialize <code>sr.chosenFeatures</code>.  See <code>DefaultStateRepresentation</code> for a list of possible options. It is only necessary to specify the options you wish to activate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/default/defaultstaterepresentation.jl#L122-L133">source</a></section><section><div><pre><code class="nohighlight hljs">featurize(sr::HeterogeneousStateRepresentation{DefaultFeaturization, TS})</code></pre><p>Create features for every node of the graph. Can be overwritten for a completely custom featurization.</p><p>Default behavior consists in a 3D One-hot vector that encodes whether the node represents a Constraint, a Variable or a Value.</p><p>It is also possible to pass a <code>chosen_features</code> dictionary allowing to choose among some non mandatory features.  It will be used in <code>initChosenFeatures!</code> to initialize <code>sr.chosenFeatures</code>.  See <code>HeterogeneousStateRepresentation</code> for a list of possible options. It is only necessary to specify the options you wish to activate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/default/heterogeneousstaterepresentation.jl#L101-L112">source</a></section><section><div><pre><code class="nohighlight hljs">function featurize(sr::TsptwStateRepresentation{TsptwFeaturization})</code></pre><p>Create nodeFeatures for every node of the graph. Supposed to be overwritten.  Tsptw behavior is to call <code>Tsptw_featurize</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/tsptw/tsptwstaterepresentation.jl#L108-L113">source</a></section><section><div><pre><code class="nohighlight hljs">function featurize(sr::GraphColoringStateRepresentation{GraphColoringFeaturization})</code></pre><p>Create nodeFeatures for every node of the graph (current color of the node or -1 if the color has not been determined yet)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/graphcoloring/graphcoloringstaterepresentation.jl#L73-L77">source</a></section><section><div><pre><code class="nohighlight hljs">function featurize(sr::MISStateRepresentation{MISFeaturization})</code></pre><p>Create nodeFeatures for every node of the graph (current color of the node or -1 if the color has not been determined yet)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/faeb691a0f83d0c1e5174d3e6dbb300fcb2d5ac1/src/RL/representation/MIS/MISstaterepresentation.jl#L72-L76">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../CP/datagen/">« Instance Generation</a><a class="docs-footer-nextpage" href="../community/">Community »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 5 June 2023 17:39">Monday 5 June 2023</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
