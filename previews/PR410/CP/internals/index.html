<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internals · SeaPearl.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SeaPearl.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Constraint Programming solver</span><ul><li><a class="tocitem" href="../constraints/">Constraints</a></li><li><a class="tocitem" href="../variables/">Variables</a></li><li><a class="tocitem" href="../trailer/">Trailer</a></li><li class="is-active"><a class="tocitem" href>Internals</a><ul class="internal"><li><a class="tocitem" href="#CPModel"><span>CPModel</span></a></li><li><a class="tocitem" href="#Search"><span>Search</span></a></li></ul></li><li><a class="tocitem" href="../search/">Search</a></li><li><a class="tocitem" href="../datagen/">Instance Generation</a></li></ul></li><li><a class="tocitem" href="../../reinforcement_learning/">Reinforcement Learning</a></li><li><a class="tocitem" href="../../community/">Community</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Constraint Programming solver</a></li><li class="is-active"><a href>Internals</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Internals</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/corail-research/SeaPearl.jl/blob/master/docs/src/CP/internals.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="SeaPearl-Internals"><a class="docs-heading-anchor" href="#SeaPearl-Internals">SeaPearl Internals</a><a id="SeaPearl-Internals-1"></a><a class="docs-heading-anchor-permalink" href="#SeaPearl-Internals" title="Permalink"></a></h1><h2 id="CPModel"><a class="docs-heading-anchor" href="#CPModel">CPModel</a><a id="CPModel-1"></a><a class="docs-heading-anchor-permalink" href="#CPModel" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.Statistics" href="#SeaPearl.Statistics"><code>SeaPearl.Statistics</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Statistics Contains statistics used in the search process:</p><ul><li>infeasibleStatusPerVariable::Dict{String,Int} : maps variable id to the number of infeasible solutions the variable was involved in</li><li>numberOfNodes::Int : number of nodes in the search</li><li>numberOfSolutions::Int : number of solutions found</li><li>numberOfInfeasibleSolutions::Int : number of infeasible solutions found</li><li>numberOfSolutionsBeforeRestart::Int : number of solutions found before the search restart</li><li>numberOfInfeasibleSolutionsBeforeRestart::Int : number of infeasible solutions found before the search restart</li><li>numberOfNodesBeforeRestart::Int : number of nodes in the search tree before the search restart</li><li>AccumulatedRewardBeforeReset::Float32 : reward accumulated before the search reset</li><li>AccumulatedRewardBeforeRestart::Float32 : reward accumulated before the search restart</li><li>solutions::Vector{Union{Nothing,Solution}} : solutions found</li><li>nodevisitedpersolution::Vector{Int} : number of times nodes that were visited in solutions</li><li>objectives::Union{Nothing,Vector{Union{Nothing,Int}}}</li><li>lastPruning::Union{Nothing,Int} </li><li>objectiveDownPruning::Union{Nothing,Float32}</li><li>objectiveUpPruning::Union{Nothing,Float32}</li><li>lastVar::Union{Nothing,AbstractIntVar} : Last variable that the search branched on</li><li>numberOfTimesInvolvedInPropagation::Union{Nothing,Dict{Constraint,Int}} : number of times every constraint was involved in a propagation</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L8-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.Limit" href="#SeaPearl.Limit"><code>SeaPearl.Limit</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Limit(numberOfNodes::Union{Int, Nothing}, numberOfSolutions::Union{Int, Nothing}, searchingTime::Union{Int, Nothing}, searchingMemory::Union{Int, Nothing}) Limits for the search process.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L51-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.CPModel" href="#SeaPearl.CPModel"><code>SeaPearl.CPModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CPModel(trailer::Trailer)
CPModel()</code></pre><p>The structure storing all the information needed when solving a given problem, as well as the solutions that were found. The CPModel is at the core of the solving process and evolves over its course. Note: The <code>AbstractStateRepresentation</code> used by the RL Agent is created from the CPModel.</p><p>The CPModel is always created empty and is filled eather by hand by the user (or automatically thanks to written files) or filled by an <code>AbstractModelGenerator</code>.</p><p>The CPModel struct has the following attributes:     - variables::Dict{String,AbstractVar} : dict mapping variable id to variables     - branchable::Dict{String,Bool} : dict mapping variable id to a bool indicating whether or not the variables are branchable     - branchable_variables::Dict{String, AbstractVar} : dict where the keys are the variable id&#39;s of ONLY the branchable variables. Maps variable id&#39;s to variables     - constraints::Array{Constraint} : Array of all the model&#39;s constraints     - trailer::Trailer : trailer used for the search and solving     - objective::Union{Nothing,AbstractIntVar} : objective function of the model     - objectiveBound::Union{Nothing,Int}     - statistics::Statistics : statistics, described in details     - limit::Limit : model&#39;s limits     - knownObjective::Union{Nothing,Int64} : optional; contains the known objective of the model. For example, if the goal is to minimize the number of delays, it could be set to 0.     - adhocInfo::Any : Any ad-hoc information related to the CPModel     - displayXCSP3::Bool : Display XCSP3 requirements during solving     - maximizeObjective::Bool : maximize objective variable (useful to display the right objective value)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L61-L86">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.addVariable!" href="#SeaPearl.addVariable!"><code>SeaPearl.addVariable!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">addVariable!(model::CPModel, x::AbstractVar; branchable=true)</code></pre><p>Add a variable to the model, throwing an error if <code>x</code>&#39;s id is already in the model. The <code>branchable</code> argument allows you to tell if we will be able to branch on that variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L111-L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.addObjective!" href="#SeaPearl.addObjective!"><code>SeaPearl.addObjective!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">addObjective!(model::CPModel, objective::AbstractVar)</code></pre><p>Add an Objective variable to the model. This variable is the variable that needs to be minimized suring the solving.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L130-L134">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.addKnownObjective!" href="#SeaPearl.addKnownObjective!"><code>SeaPearl.addKnownObjective!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">addKnownObjective!(model::CPModel, knownObective::Int64)</code></pre><p>Add a known Objective to the model. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L140-L144">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.addConstraint!" href="#SeaPearl.addConstraint!"><code>SeaPearl.addConstraint!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">addConstraint!(model::CPModel, constraint::Constraint)</code></pre><p>Add a constraint to the CPModel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L153-L157">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.is_branchable" href="#SeaPearl.is_branchable"><code>SeaPearl.is_branchable</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function is_branchable(model::CPModel, x::AbstractVar)</code></pre><p>Tell if the variable was set as branchable or not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L169-L173">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.branchable_variables" href="#SeaPearl.branchable_variables"><code>SeaPearl.branchable_variables</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function branchable_variables(model::CPModel)</code></pre><p>Return a dict of all branchable variables, mapping from variable id to variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L176-L180">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.solutionFound" href="#SeaPearl.solutionFound"><code>SeaPearl.solutionFound</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">solutionFound(model::CPModel)</code></pre><p>Return a boolean, checking whether a solution was found, i.e. every variable is bound.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L191-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.triggerFoundSolution!" href="#SeaPearl.triggerFoundSolution!"><code>SeaPearl.triggerFoundSolution!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">triggerFoundSolution!(model::CPModel)</code></pre><p>Add the current solution to <code>model</code>, and set new constraints for the objective if needed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L205-L209">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.triggerInfeasible!" href="#SeaPearl.triggerInfeasible!"><code>SeaPearl.triggerInfeasible!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">triggerInfeasible!(constraint::Constraint, model::CPModel)</code></pre><p>This function increments by one the statistic infeasibleStatusPerVariable for each variable involved in the constraint. infeasibleStatusPerVariable keeps track for each variable the number of times the variable was involved in a constraint that led to an infeasible state during a fixpoint. This statistic is used by the failure-based variable selection heuristic.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L242-L248">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.tightenObjective!" href="#SeaPearl.tightenObjective!"><code>SeaPearl.tightenObjective!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tightenObjective!(model::CPModel)</code></pre><p>Set a new constraint to minimize the objective variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L268-L272">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.isempty" href="#Base.isempty"><code>Base.isempty</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">isempty(dom::IntDomain)</code></pre><p>Return <code>true</code> iff <code>dom</code> is an empty set. Done in constant time.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/variables/IntDomain.jl#L69-L73">source</a></section><section><div><pre><code class="nohighlight hljs">isempty(dom::BoolDomain)</code></pre><p>Return <code>true</code> iff <code>dom</code> is an empty set. Done in constant time.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/variables/BoolDomain.jl#L31-L35">source</a></section><section><div><pre><code class="nohighlight hljs">isempty(dom::IntDomainView)</code></pre><p>Return <code>true</code> iff <code>dom</code> is an empty set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/variables/IntVarView.jl#L106-L110">source</a></section><section><div><pre><code class="nohighlight hljs">isempty(dom::BoolDomainView)</code></pre><p>Return <code>true</code> iff <code>dom</code> is an empty set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/variables/BoolVarView.jl#L39-L43">source</a></section><section><div><pre><code class="nohighlight hljs">Base.isempty(model::CPModel)::Bool</code></pre><p>Return a boolean describing if the model is empty or not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L297-L301">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.empty!" href="#Base.empty!"><code>Base.empty!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Base.empty!(model::CPModel)</code></pre><p>Empty the CPModel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L333-L337">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.reset_model!" href="#SeaPearl.reset_model!"><code>SeaPearl.reset_model!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">reset_model!(model::CPModel)</code></pre><p>Reset a given CPModel instance. Make it possible to reuse the same instance instead of having to delete the old one and create another one. This is used in <code>launch_experiment!</code> in order to be able to use the same CPModel instance to compare different given heuristics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L372-L378">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.restart_search!" href="#SeaPearl.restart_search!"><code>SeaPearl.restart_search!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>restart_search!(model::CPModel)</p><p>Restarts the search process. Useful when dealing with restart based search : ILDS or RBS. Resets to zero are useful statistics on the search that can be used to define the restart criteria.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L404-L409">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.domains_cartesian_product" href="#SeaPearl.domains_cartesian_product"><code>SeaPearl.domains_cartesian_product</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">domains_cartesian_product(model::CPModel)</code></pre><p>Return the cartesian product of the model variables: |D1|x|D2|x ... x|Dn| Helps providing insights about what is happening during a search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L421-L426">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.nb_boundvariables" href="#SeaPearl.nb_boundvariables"><code>SeaPearl.nb_boundvariables</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">nb_boundvariables(model::CPModel)</code></pre><p>Return the number of variables that have already been assigned to a value (that are bound). Helps providing insights about what is happening during a search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L437-L442">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.global_domain_cardinality" href="#SeaPearl.global_domain_cardinality"><code>SeaPearl.global_domain_cardinality</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">global_domain_cardinality(model::CPModel)</code></pre><p>Returns the sum of the cardinalities of all the variable domains.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L451-L455">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.updateStatistics!" href="#SeaPearl.updateStatistics!"><code>SeaPearl.updateStatistics!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">updateStatistics!(model::CPModel, pruned)</code></pre><p>Called in DFS to update the appropriate statistics used in GeneralReward</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/model.jl#L471-L475">source</a></section></article><h2 id="Search"><a class="docs-heading-anchor" href="#Search">Search</a><a id="Search-1"></a><a class="docs-heading-anchor-permalink" href="#Search" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.search!" href="#SeaPearl.search!"><code>SeaPearl.search!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>search!(model::CPModel, strategy::S, variableHeuristic::AbstractVariableSelection, valueSelection::ValueSelection=BasicHeuristic(); out_solver::Bool=false) where S &lt;: SearchStrategy Perform a search following a specific strategy in the <code>model</code> using <code>variableHeuristic</code> to choose which domain will be changed at each branching and using <code>valueSelection</code> to choose how the branching will be done. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/search.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.initroot!" href="#SeaPearl.initroot!"><code>SeaPearl.initroot!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">initroot!(toCall::Stack{Function}, ::DFSearch, model::CPModel, variableHeuristic::AbstractVariableSelection, valueSelection::ValueSelection)</code></pre><p>Used as a generic function to instantiate the research based on a specific Strategy &lt;: SearchStrategy. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/dfs.jl#L1-L6">source</a></section><section><div><pre><code class="nohighlight hljs">initroot!(toCall::Stack{Function}, ::DFWBSearch, model::CPModel, variableHeuristic::AbstractVariableSelection, valueSelection::ValueSelection)</code></pre><p>Used as a generic function to instantiate the research based on a specific Strategy &lt;: SearchStrategy. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/dfwbs.jl#L1-L6">source</a></section><section><div><pre><code class="nohighlight hljs">initroot!(toCall::Stack{Function}, ::ILDSearch, model::CPModel, variableHeuristic::AbstractVariableSelection, valueSelection::ValueSelection)</code></pre><p>generic function to instantiate the research based on a specific Strategy &lt;: SearchStrategy. The max discrepancy correspond to the number of branchable variables  at the beginning of the search. Calls to expandIlds! with a decreasing discrepancy is stacked in the toCall Stack. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/ilds.jl#L1-L6">source</a></section><section><div><pre><code class="nohighlight hljs">initroot!(toCall::Stack{Function}, strategy::S, model::CPModel, variableHeuristic::AbstractVariableSelection, valueSelection::ValueSelection) where {S &lt;: RBSearch}</code></pre><p>It fills the toCall Stack in a certains order based on a specific Strategy &lt;: RBSearch with  function that expand the search tree. In restart based strategy, we fill the Stack with calls to expandRbs with different nodeLimit. The nodeLimit corresponds  to the number of infeasiblesolution that can be reached before restarting the search a the top of the tree with a possibly different nodeLimit. This search  strategy requires the use of a stochastic variable/value heuristic, otherwise, at each restart the search will end-up on the exact previous solutions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/rbs.jl#L41-L48">source</a></section><section><div><pre><code class="nohighlight hljs">initroot!(toCall::Stack{Function}, search::LNSearch, model::CPModel, variableHeuristic::AbstractVariableSelection, valueSelection::ValueSelection)</code></pre><p>Used as a generic function to instantiate the research based on a specific Strategy &lt;: SearchStrategy. </p><pre><code class="nohighlight hljs"># Arguments</code></pre><ul><li>toCall: In this search strategy, <code>toCall</code> is not used (an empty stack will be returned)</li><li>search: Object containing the parameters of the search strategy</li><li>model: CPModel to be solved</li><li>variableHeuristic: Variable selection method to be used in the search</li><li>valueSelection: Value selection method to be used in the search</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/lns.jl#L5-L16">source</a></section><section><div><pre><code class="nohighlight hljs">initroot!(toCall::Stack{Function}, ::F, model::CPModel, variableHeuristic::AbstractVariableSelection, valueSelection::ValueSelection) where F &lt;: SearchStrategy</code></pre><p>Initialisation function that fill the toCall Stack according to a certain strategy. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/search.jl#L9-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.expandDfs!" href="#SeaPearl.expandDfs!"><code>SeaPearl.expandDfs!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expandDfs!(toCall::Stack{Function}, model::CPModel, variableHeuristic::Function, valueSelection::ValueSelection, newConstraints=nothing)</code></pre><p>Add procedures to <code>toCall</code>, that, called in the stack order (LIFO) with the <code>model</code> parameter, will perform a DFS in the graph. Some procedures will contain a call to <code>expandDfs!</code> itself. Each <code>expandDfs!</code> call is wrapped around a <code>saveState!</code> and a <code>restoreState!</code> to be able to backtrack thanks to the trailer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/dfs.jl#L11-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.expandDfwbs!" href="#SeaPearl.expandDfwbs!"><code>SeaPearl.expandDfwbs!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expandDfwbs!(toCall::Stack{Function}, model::CPModel, variableHeuristic::Function, valueSelection::ValueSelection, newConstraints=nothing)</code></pre><p>Expands the DFWBS search tree.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/dfwbs.jl#L11-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.expandIlds!" href="#SeaPearl.expandIlds!"><code>SeaPearl.expandIlds!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expandIlds!(toCall::Stack{Function}, discrepancy::Int64, previousdepth::Int64, direction::Union{Nothing, Symbol} , model::CPModel, variableHeuristic::AbstractVariableSelection, valueSelection::ValueSelection, newConstraints=nothing)</code></pre><p>This function fills the toCall Stack (LIFO) and perform a recursive Limited Discrepancy Search. Some procedures will contain a call to <code>expandIlds!</code> itself. Each <code>expandIlds!</code>  call is wrapped around a <code>saveState!</code> and a <code>restoreState!</code> to be able to backtrack thanks to the trailer. </p><p>This implementation is based on this paper : Limited Discrepancy Search - 1995 - William  D.  Harvey  and  Matthew  L.  Ginsberg. This method is not efficiant compared to the Korf approach but doesn&#39;t need any given max depth of the search  tree, which is unknown for CP search tree.   We should maybe look at this : https://www.researchgate.net/publication/220639800<em>Limited</em>discrepancy<em>search</em>revisited</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/ilds.jl#L16-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.expandLns!" href="#SeaPearl.expandLns!"><code>SeaPearl.expandLns!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expandLns!(search::LNSearch, model::CPModel, variableHeuristic::AbstractVariableSelection, valueSelection::ValueSelection)</code></pre><p>This function make a Large Neighbourhood Search. As initial solution we use the first feasible solution found by a DFS.  Then a destroy and repair loop tries to upgrade the current solution until some stop critiria.</p><pre><code class="nohighlight hljs"># Arguments</code></pre><ul><li>search: Object containing the parameters of the search strategy</li><li>model: CPModel to be solved</li><li>variableHeuristic: Variable selection method to be used in the search</li><li>valueSelection: Value selection method to be used in the search</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/lns.jl#L21-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SeaPearl.expandRbs!" href="#SeaPearl.expandRbs!"><code>SeaPearl.expandRbs!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expandRbs!(toCall::Stack{Function}, model::CPModel, variableHeuristic::Function, valueSelection::ValueSelection, newConstraints=nothing)</code></pre><p>Add procedures to <code>toCall</code>, that, called in the stack order (LIFO) with the <code>model</code> parameter, will perform a RBS in the graph. Some procedures will contain a call to <code>expandRbs!</code> itself. Each <code>expandRbs!</code> call is wrapped around a <code>saveState!</code> and a <code>restoreState!</code> to be able to backtrack thanks to the trailer. </p><p>The Search stops as long as the search reached the limit on a given criteria. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/corail-research/SeaPearl.jl/blob/df8847d4297dec11f2ce7d448dd730e13161d71f/src/CP/core/search/rbs.jl#L57-L66">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../trailer/">« Trailer</a><a class="docs-footer-nextpage" href="../search/">Search »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Friday 9 June 2023 20:49">Friday 9 June 2023</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
